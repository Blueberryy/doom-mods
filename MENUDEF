AddOptionMenu "OptionsMenu"
{
  Submenu "Laevis Mod Options", "LaevisOptions"
}

OptionMenu "LaevisOptions"
{
  class TFLV_Menu_TooltipOptionMenu
  // TODO: this is a very verbose option screen. Ideally, we should subclass
  // the builtin option types so that the info text pops up at the bottom or
  // something as you select each option.
  Title "Laevis Mod Options"

  StaticText ""
  StaticText "Weapon Bonus Settings", CYAN

  Slider "Gun damage bonus per level", "laevis_gun_damage_bonus", 0.0, 1.0, 0.01, 2
  Tooltip "How much bonus damage the gun gets per level. 0.01 == +1%."

  Option "Weapon upgrades bind to", "laevis_upgrade_binding_mode", "LaevisUpgradeBindingMode"
  Tooltip "Determines how weapon upgrades behave when you drop a weapon or are carrying multiple weapons of the same type."
  Tooltip "\cz[individual weapon]:\c- each weapon has its own upgrades. When you drop a weapon, the upgrades go with it. In some mods dropping the weapon will lose the upgrades permanently."
  Tooltip "\cz[individual w/inheritance]:\c- each weapon has its own upgrades, but if you drop a weapon and later pick up a new weapon of the same type, it will inherit the upgrades from the weapon you dropped."
  Tooltip "\cz[weapon class]:\c- all weapons of the same type share the same upgrades, even if you have more than one of them in your inventory."

  StaticText ""
  StaticText "Player Bonus Settings", GREEN

  Slider "Gun levels per player level", "laevis_gun_levels_per_player_level", 1, 100, 1, 0
  Tooltip "How many times you need to level up a weapon to gain a player bonus."

  Slider "Player damage bonus per level", "laevis_player_damage_bonus", 0.0, 1.0, 0.01, 2
  Tooltip "How much bonus damage you get per level. 0.01 == +1%."

  Slider "Player defence bonus per level", "laevis_player_defence_bonus", 0.1, 2.0, 0.01, 2
  Tooltip "How much resistance factor you get per level. 0.99 == 1% damage reduction."
  Tooltip "Values above 1 make you take *more* damage as you level up."

  StaticText ""
  StaticText "XP balance settings", GOLD

  Slider "XP needed to reach level 1", "laevis_base_level_cost", 100, 10000, 100, 0
  Tooltip "How much XP you need to earn for a weapon to gain its first level. Roughly, 1 point of damage dealt == 1 XP gained, with a bonus for damaging nastier enemies like Cyberdemons and Archviles."

  TooltipBlockStart
  Slider "XP cost multiplier for melee weapons", "laevis_level_cost_mul_for_melee", 0.1, 5.0, 0.1, 1
  Slider "XP cost multiplier for wimpy weapons", "laevis_level_cost_mul_for_wimpy", 0.1, 5.0, 0.1, 1
  Slider "XP cost multiplier for explosive weapons", "DISABLED_laevis_level_cost_mul_for_explosive", 0.1, 5.0, 0.1, 1
  Slider "XP cost multiplier for BFG-type weapons", "DISABLED_laevis_level_cost_mul_for_bfg", 0.1, 5.0, 0.1, 1
  Tooltip "XP cost multipliers for various classes of weapons. These can stack (e.g. fists are both 'melee' and 'wimpy' in vanilla Doom 2). The default settings make weak and melee weapons easier to level up, and explosive and BFG weapons harder."
  Tooltip "\cgThe 'explosive' and 'bfg' settings do not currently work."
  TooltipBlockEnd

  StaticText ""
  StaticText "Legendoom Integration", GRAY

  ScaleSlider "Gun levels per LD effect", "laevis_gun_levels_per_ld_effect", 0, 100, 1, "Disabled"
  Tooltip "How many times a gun needs to level up to gain a new Legendoom effect. Only functions if Legendoom is installed. Set to 0 to disable."

  Option "LD effects learnable by", "laevis_which_guns_can_learn", "LaevisWhatKindOfGunSelector"
  Tooltip "Which weapons can learn new LD effects."
  Option "LD effects replaceable by", "laevis_which_guns_can_replace", "LaevisWhatKindOfGunSelector"
  Tooltip "Which weapons can replace old LD effects with new ones once they're full."

  Slider "Base number of LD effect slots", "laevis_base_ld_effect_slots", 0, 16, 1, 0
  Tooltip "How many slots for LD effects non-legendary guns have."
  Slider "Bonus slots per LD rarity level", "laevis_bonus_ld_effect_slots", 0, 16, 1, 0
  Tooltip "How many extra effect slots legendary guns get per rarity level (Common=1, Epic=4)."

  Option "Ignore original gun rarity for new effects", "laevis_ignore_gun_rarity", "OnOff"
  Tooltip "Whether weapons can learn LD effects that are rarer than the one they spawned with."

  StaticText ""
  StaticText "Score mod integration", GRAY

  Option "Earn XP based on player score", "laevis_use_score_for_xp", OnOff
  Tooltip "Instead of earning XP based on damage dealt, earn it based on your score. This requires you to install a mod that lets you score points, such as LazyPoints."

  Slider "XP gain multiplier for score mods", "laevis_score_to_xp_factor", 0.1, 5.0, 0.1, 1
  Tooltip "When score mod integration is on, your score will be multiplied by this in order to determine how much XP you get. This can be used to tweak level up rates for your favourite scoremod without needing to adjust the XP settings above."
}

OptionValue "LaevisUpgradeBindingMode" {
  0, "individual weapon"
  1, "individual weapon with inheritance"
  2, "weapon class"
}

OptionValue "LaevisWhatKindOfGunSelector" {
  0, "None"
  1, "Basic Weapons Only"
  2, "Legendary Weapons Only"
  3, "All Weapons"
}

OptionMenu "LaevisPlayerLevelUpMenu"
{
  class TFLV_Menu_PlayerLevelUpMenu
  Title "Player Level Up!"
}

OptionMenu "LaevisWeaponLevelUpMenu"
{
  class TFLV_Menu_WeaponLevelUpMenu
  Title "Weapon Level Up!"
}

OptionMenu "LaevisNewLDEffectMenu"
{
  class TFLV_Menu_NewLDEffectMenu
  Title "New Legendoom Effect!"
}

OptionMenu "LaevisStatusDisplay"
{
  class TFLV_Menu_StatusDisplay
  Title "Status"
}
